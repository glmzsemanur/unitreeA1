<launch>
  <node pkg="nodelet" type="nodelet" name="velodyne_nodelet_manager" args="manager" output="screen"/>

  <node pkg="nodelet" type="nodelet" name="globalmap_server_nodelet" args="load hdl_localization/GlobalmapServerNodelet velodyne_nodelet_manager">
    <param name="globalmap_pcd" value="/home/semanur/catkin_ws/969776000.pcd" />
    <param name="frame_id" value="map" /> 
    <param name="convert_utm_to_local" value="true" />
    <param name="downsample_resolution" value="0.5" /> 
  </node>

  <node pkg="nodelet" type="nodelet" name="hdl_localization_nodelet" args="load hdl_localization/HdlLocalizationNodelet velodyne_nodelet_manager" output="screen">
      <remap from="/velodyne_points" to="/velodyne_points" />
      <remap from="/initialpose" to="/initialpose" />
      <remap from="/odom" to="/odometry/filtered" />

      <param name="publish_tf" value="true" />
      <param name="robot_odom_frame_id" value="odom" />
      <param name="odom_child_frame_id" value="base" />
      <param name="map_frame_id" value="map" />

      <param name="reg_method" value="NDT_OMP" />
      <param name="use_imu" value="false" />
      <param name="ndt_resolution" value="1.0" />      <param name="ndt_num_threads" value="16" />      <param name="trans_epsilon" value="0.05" />      <param name="step_size" value="0.1" />           <param name="transformation_epsilon" value="0.01" />
      <param name="enable_imu_orientation" value="false" />
      <param name="enable_imu_acceleration" value="false" />
      <param name="use_imu" value="false" />
      <param name="enable_robot_odometry_prediction" value="false" />
      <param name="outlier_threshold" value="100.0" />
  </node>
  <node pkg="elevation_map_merger" type="elevation_to_octo" name="elevation_to_octo" output="screen">
    <param name="resolution" value="0.2" />
    <param name="frame_id" value="map" />
  </node>
</launch>